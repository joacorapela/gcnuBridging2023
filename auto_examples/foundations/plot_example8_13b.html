<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Example 8.13 (modified): medical treatment probability of success &#8212; gcnuBridging2023  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=039e1c02" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Example 8.3: stranded tourists" href="plot_example8_3.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-examples-foundations-plot-example8-13b-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code or to run this example in your browser via Binder</p>
</div>
<section class="sphx-glr-example-title" id="example-8-13-modified-medical-treatment-probability-of-success">
<span id="sphx-glr-auto-examples-foundations-plot-example8-13b-py"></span><h1>Example 8.13 (modified): medical treatment probability of success<a class="headerlink" href="#example-8-13-modified-medical-treatment-probability-of-success" title="Link to this heading">Â¶</a></h1>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
</pre></div>
</div>
<p>prior function</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">prior</span><span class="p">(</span><span class="n">success_rate</span><span class="p">):</span>
    <span class="k">return</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="mi">101</span>
</pre></div>
</div>
<p>likelihood function</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="p">,</span> <span class="n">success_rate</span><span class="p">,</span> <span class="n">num_tests</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">answer</span> <span class="o">=</span> <span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">comb</span><span class="p">(</span><span class="n">num_tests</span><span class="p">,</span> <span class="n">num_successes</span><span class="p">)</span> <span class="o">*</span> <span class="n">success_rate</span><span class="o">**</span><span class="n">num_successes</span> <span class="o">*</span>
              <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">success_rate</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="n">num_tests</span><span class="o">-</span><span class="n">num_successes</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">answer</span>
</pre></div>
</div>
<p>define variables</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">num_tests</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">true_success_rate</span> <span class="o">=</span> <span class="mf">0.7</span>
<span class="n">num_observations</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">num_bins_succeses</span> <span class="o">=</span> <span class="mi">101</span>
</pre></div>
</div>
<p>computer prior</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">success_rates</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">/</span><span class="n">num_bins_succeses</span>
                 <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_bins_succeses</span><span class="p">)]</span>
<span class="n">obs_num_successes</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="n">num_tests</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span>
                                       <span class="n">size</span><span class="o">=</span><span class="n">num_observations</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">prior</span><span class="p">(</span><span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                          <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
</pre></div>
</div>
<p>plot prior</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_prior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="e2269749-51e2-4ff1-b9a8-6240c3d3b193" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("e2269749-51e2-4ff1-b9a8-6240c3d3b193")) {                    Plotly.newPlot(                        "e2269749-51e2-4ff1-b9a8-6240c3d3b193",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901,0.009900990099009901],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 0, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 1 observation</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="4ff6315c-7a87-48aa-ae30-18ec50ca6d38" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("4ff6315c-7a87-48aa-ae30-18ec50ca6d38")) {                    Plotly.newPlot(                        "4ff6315c-7a87-48aa-ae30-18ec50ca6d38",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,2.070507787358896e-11,1.2729097722949658e-09,1.3922226639489918e-08,7.507991171882349e-08,2.747779166635141e-07,7.86826161859258e-07,1.9018511466759841e-06,4.060210822000083e-06,7.882849485880044e-06,1.4198499076833261e-05,2.4065950382451696e-05,3.879041010475524e-05,5.9933228179619354e-05,8.93145249868941e-05,0.00012900847086188115,0.00018133117137898944,0.00024882129197599236,0.00033421371537371234,0.00044040666567249977,0.0005704228547249009,0.0007273653101447794,0.0009143686308681965,0.001134546486281916,0.0013909362293328608,0.0016864415334774917,0.002023773988575286,0.002405394602626668,0.0028334561553540745,0.0033097473367768634,0.0038356395798877074,0.004412037462051263,0.005039333505566927,0.005717368154717149,0.006445395645313103,0.0072220564140012735,0.00804535661915945,0.008912655263839815,0.009820659324661815,0.010765427199569492,0.011742380692698354,0.012746325656997098,0.013771481315470716,0.014811518180705223,0.01585960439045177,0.016908460175240583,0.017950420073014107,0.01897750240636602,0.019981485440898422,0.020953989549216623,0.021886564614919043,0.02277078182536178,0.023598328921733337,0.024361107900817566,0.025051334095501723,0.025661635501355223,0.026185151165212063,0.026615627409389355,0.026947510632716252,0.027176035407683416,0.027297306582504184,0.027308374098456604,0.027207299247301205,0.0269932111215947,0.026666352053095598,0.026228110891935705,0.025681043052562896,0.02502887634239664,0.024276501696429843,0.023429948066410293,0.02249634085749345,0.021483843469126608,0.020401581681154905,0.019259550831481963,0.018068505958825285,0.016839835333928972,0.015585418075785592,0.01431746684672662,0.013048356942418094,0.011790443440595893,0.010555868446545552,0.009356360874625177,0.008203031634298849,0.007106167546942919,0.006075027806860217,0.005117647317239061,0.004240651779975439,0.003449089998090824,0.002746289461674393,0.002133741933609488,0.0016110264305608153,0.001175777708552561,0.0008237091117097361,0.000548699428116854,0.00034295421902099906,0.00019725294752166194,0.00010129413119883815,4.415168058515079e-05,1.4856562738406849e-05,3.1189471695657496e-06,2.0705077873589032e-07],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 1, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 1 observation</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="a7b89c59-3661-410f-88eb-eb2c52c6d8f1" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("a7b89c59-3661-410f-88eb-eb2c52c6d8f1")) {                    Plotly.newPlot(                        "a7b89c59-3661-410f-88eb-eb2c52c6d8f1",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,2.1465330252437298e-20,8.11295523003582e-17,9.705127311752174e-15,2.82248306434514e-13,3.780484754285814e-12,3.099855299679127e-11,1.8110768681975512e-10,8.254314404128542e-10,3.1113603053412057e-09,1.0094125807302633e-08,2.899945740306505e-08,7.534120819198507e-08,1.7985361836160663e-07,3.994183596368891e-07,8.333362870186776e-07,1.6463750359410707e-06,3.099980198185793e-06,5.592839738543981e-06,9.711618308047697e-06,1.629212275430954e-05,2.6490429966805102e-05,4.1862626687973596e-05,6.445081720855446e-05,9.687200231721192e-05,0.0001424053865383411,0.00020507270379362743,0.0002897053413285597,0.00040199146443995447,0.0005484960708992868,0.000736646994098897,0.0009746803728986717,0.001271540040013116,0.0016367266536512707,0.0020800941890958325,0.002611593573224587,0.0032409657164440575,0.0039773888811948845,0.004829088112393937,0.005802917215534942,0.00690392636480071,0.008134930714036008,0.009496097227423377,0.010984568212775577,0.012594140612976862,0.01431501989729712,0.016133666329736073,0.01803274944574258,0.019991223748990688,0.021984534994282462,0.023984962040500525,0.025962094269017005,0.02788343913636491,0.029715148767195308,0.03142284882374854,0.03297254745966037,0.03433159723697942,0.035469678712798255,0.0363597712302067,0.036979074496926466,0.03730984398677261,0.03734010418856977,0.037064206330279764,0.036483201431515885,0.0356050053201432,0.034444339445503735,0.033022439710942576,0.03136653483545082,0.029509105573591828,0.027486946051904815,0.025340058053143506,0.02311041780697541,0.020840662234547867,0.018572747174205984,0.016346633465153783,0.014199057540155819,0.012162441136742832,0.010263989767822407,0.008525021738131308,0.006960558962713151,0.005579198026749847,0.0043832653918907056,0.0033692451422892206,0.002528452061550989,0.0018479081395623037,0.0013113678872760234,0.0009004281462189025,0.0005956523938621779,0.00037763866955171867,0.00022796471072592116,0.0001299538556256469,6.9220428356487e-05,3.397281845404489e-05,1.5074844924756552e-05,5.8891977564568415e-06,1.948187897904545e-06,5.137506753896193e-07,9.760640481295065e-08,1.105148200136625e-08,4.870795264550682e-10,2.1465330252437443e-12],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 2, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 2 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="6734369d-c5b8-4a77-b426-1cd308fdfeb1" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("6734369d-c5b8-4a77-b426-1cd308fdfeb1")) {                    Plotly.newPlot(                        "6734369d-c5b8-4a77-b426-1cd308fdfeb1",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,1.2439669505067431e-31,5.839368737638298e-26,1.1577092800130436e-22,2.445894691189831e-20,1.514336841049269e-18,4.31163767093852e-17,7.179232068474203e-16,8.069210206723118e-15,6.715566011272832e-14,4.408229106495361e-13,2.387467476552063e-12,1.1029163889874343e-11,4.45699277147586e-11,1.6067684628275407e-10,5.248385512255267e-10,1.5728840033645845e-09,4.369286220312996e-09,1.1346069914206473e-08,2.7738286949549502e-08,6.422645734832197e-08,1.415680660057093e-07,2.983580651319994e-07,6.035015032063512e-07,1.1754939863109771e-06,2.211151613240942e-06,4.026951054389393e-06,7.1165462853451605e-06,1.2228210299683016e-05,2.0465778198516235e-05,3.3416004276169215e-05,5.330395888278425e-05,8.317607612405331e-05,0.00012710766470834284,0.00019042812697098662,0.0002799529033546132,0.00040420648773519994,0.0005736160748136694,0.0008006509475433066,0.0010998791268715265,0.0014879106851909405,0.001983197079206944,0.002605658450808996,0.0033761165232991616,0.004315519743865326,0.005443959693200698,0.006779493187112923,0.008336802268836058,0.010125743409606766,0.012149856337500636,0.014404920365215514,0.01687766007849535,0.019544710934795328,0.02237195699351347,0.025314346255022036,0.028316273025039862,0.031312591111406836,0.03423028707316135,0.036990800631758594,0.03951293206874481,0.041716227138121,0.04352468253141759,0.044870573462006604,0.04569817375820301,0.0459671219197591,0.04565518709964276,0.04476020896643907,0.04330102541428094,0.04131726087935823,0.038867922470573385,0.03602883627355401,0.032889045513579886,0.029546378114455204,0.026102465432731977,0.0226575487391687,0.01930543866970018,0.016128990680674218,0.013196424559442615,0.010558749571402867,0.008248463668127062,0.0062795834640917685,0.00464894227050281,0.0033385789286846526,0.0023189434260525764,0.0015525779451583438,0.0009979027973077235,0.0006127499231978579,0.00035734115307624814,0.0001964972553033714,0.0001009747240615865,4.794419801048998e-05,2.0729808796361205e-05,8.0065453087271e-06,2.691378146437234e-06,7.591306051188723e-07,1.703025288647066e-07,2.7966126494828797e-08,2.9250392488158598e-09,1.5011983635648367e-10,2.1047837974468937e-12,1.2439669505067545e-15],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 3, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 3 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="b2e62c3d-69b6-46f7-8ac8-0a8ddb040475" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("b2e62c3d-69b6-46f7-8ac8-0a8ddb040475")) {                    Plotly.newPlot(                        "b2e62c3d-69b6-46f7-8ac8-0a8ddb040475",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,3.2808735508547445e-45,3.8641760561116514e-37,1.923987977274511e-32,3.977789561477503e-29,1.4378237036518076e-26,1.7237731889658487e-24,9.644920885757327e-23,3.0881434962111328e-21,6.453257618471823e-20,9.62781180683403e-19,1.0933132575785694e-17,9.907252280429886e-17,7.425654570329318e-16,4.733656498183152e-15,2.6238158613057678e-14,1.287286036639509e-13,5.672063555195429e-13,2.271759386271929e-12,8.354429512094125e-12,2.8451464157065276e-11,9.038165325318519e-11,2.694970784109698e-10,7.583521107360783e-10,2.0233566723667347e-09,5.13980244010132e-09,1.247573989798834e-08,2.902842555771917e-08,6.493121361316172e-08,1.3997738930899642e-07,2.9148882072631633e-07,5.87529592831833e-07,1.1483574352243263e-06,2.1801267028575914e-06,4.026175369558937e-06,7.242655894324181e-06,1.2706637767227977e-05,2.1765853615446946e-05,3.643961199314249e-05,5.96795920286593e-05,9.569673340084986e-05,0.0001503556937531046,0.00023163089461262183,0.0003501077378814383,0.0005194991978445698,0.0007571321979148727,0.001084341080084518,0.0015266888521518643,0.0021139232062543467,0.0028795665529344904,0.003860040832538455,0.005093241903090024,0.006616507527782695,0.008463968872989457,0.010663337641270783,0.013232256798245537,0.01617442687003513,0.01947580376027206,0.023101237293721193,0.026991969962159783,0.031064430069947847,0.03521072155944696,0.039301126623357586,0.043188794664435794,0.046716597337587956,0.04972589765345118,0.05206673306008345,0.05360867668292451,0.0542514504593793,0.053934252062517646,0.05264275295684814,0.05041284640294551,0.04733047562922483,0.043527239307968896,0.039171920031726974,0.03445856023897844,0.029592155249208198,0.0247733771464423,0.020183925444107405,0.01597407826632127,0.012253777005186518,0.009088138685768337,0.0064977099219407876,0.004463140440919508,0.0029333655957970023,0.0018359475131452599,0.0010880128978400562,0.000606280746884827,0.00031498162592141386,0.000150964860651507,6.58630979397117e-05,2.5710296499825014e-05,8.778361338300367e-06,2.5421368980454425e-06,5.980204835522744e-07,1.0727365800763386e-07,1.3302180631736665e-08,9.674002713846651e-10,3.0315856836361455e-11,2.0489421194758152e-13,3.2808735508547795e-17],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 4, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 4 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="52501865-35d0-45a5-9a26-ad05f3bb0a75" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("52501865-35d0-45a5-9a26-ad05f3bb0a75")) {                    Plotly.newPlot(                        "52501865-35d0-45a5-9a26-ad05f3bb0a75",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,1.5117180126451126e-56,2.211330998997373e-46,1.824780618050752e-40,2.7406794366223985e-36,4.5792110907583545e-33,1.9062988485205573e-30,3.039833564345367e-28,2.4002557705220893e-26,1.1074429081308826e-24,3.3429745090770516e-23,7.156525684513361e-22,1.1531166945954136e-20,1.4630781372695846e-19,1.5140215013515705e-18,1.3138591673543289e-17,9.778067019176749e-17,6.356275195011768e-16,3.6642528929827705e-15,1.8972076117659846e-14,8.917660664256838e-14,3.840312807682298e-13,1.527127846802372e-12,5.645869759780746e-12,1.952111450176579e-11,6.345247391189197e-11,1.9478021153540707e-10,5.669519912676131e-10,1.5703975731249757e-09,4.1526244753488955e-09,1.0513008797721724e-08,2.5546830026662184e-08,5.972490980314399e-08,1.3461310660355142e-07,2.9305613024334647e-07,6.17287189876532e-07,1.2599970265970373e-06,2.4957954572633114e-06,4.803545005994196e-06,8.993618447176974e-06,1.639788563667809e-05,2.9143514437984502e-05,5.053343818328277e-05,8.555515345320663e-05,0.00014153357581576294,0.00022893104375437968,0.00036227644464538613,0.0005611747410805497,0.0008513081130053629,0.0012652927133455095,0.001843205479701024,0.0026325513098950136,0.003687412740657587,0.005066524560876225,0.006830057326209655,0.009034987115938831,0.011729079406510539,0.014943719412256659,0.018686065132061308,0.02293125533160361,0.027615633378389313,0.03263210122453019,0.03782874585261354,0.04301174032456164,0.047953188373610615,0.05240405888928535,0.056111684406135766,0.05884055390560379,0.06039442598998463,0.06063725404437039,0.05951017805898865,0.05704199678803201,0.053351131292268456,0.04863809240032277,0.043168751185103146,0.037250088656953485,0.031201326936384367,0.02532417529858722,0.019876167850931947,0.015050633659182137,0.01096576820096841,0.007663750551245301,0.005119168020976818,0.003254512997488669,0.0019595179945855277,0.0011107951750881297,0.0005886786361699853,0.00028918379168912435,0.00013030925981078907,5.316562829049728e-05,1.931964185877347e-05,6.121785759665999e-06,1.6448907889640331e-06,3.608534240609019e-07,6.128955251284342e-08,7.455784964196174e-09,5.757219405831947e-10,2.304993017782815e-11,3.2741414424011767e-13,7.03958949960518e-16,1.5117180126451325e-20],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 5, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 5 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="2a00b4af-cea5-494f-9fe1-03a76153d6b9" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("2a00b4af-cea5-494f-9fe1-03a76153d6b9")) {                    Plotly.newPlot(                        "2a00b4af-cea5-494f-9fe1-03a76153d6b9",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,6.797940164007641e-68,1.2350253078477085e-55,1.6890566633345956e-48,1.842892204982157e-43,1.4233147272846997e-39,2.057439643801738e-36,9.350314022795596e-34,1.8207185911527367e-31,1.8547652225956638e-29,1.1328275220782837e-27,4.5717777366522374e-26,1.3098409137362449e-24,2.813361584403321e-23,4.72598784301328e-22,6.420805767284449e-21,7.248634721771633e-20,6.951676427514021e-19,5.7681135595128474e-18,4.204730565627846e-17,2.727862769448604e-16,1.5924953559223999e-15,8.445434262203858e-15,4.1021927752742156e-14,1.838069912125708e-13,7.644972833120044e-13,2.9678955239677777e-12,1.080673104447061e-11,3.706730101804911e-11,1.2022995474051803e-10,3.700474422548093e-10,1.0841005008076947e-09,3.031511169340889e-09,8.111818296773326e-09,2.0817769117398215e-08,5.134544607348977e-08,1.219364775763437e-07,2.7929780976846663e-07,6.179811646213378e-07,1.3227212360575083e-06,2.7422298074784885e-06,5.513015587037972e-06,1.0759360648220982e-05,2.0404027210557903e-05,3.763217600753928e-05,6.755584265053324e-05,0.00011812437860354703,0.0002013125961415086,0.000334587407897961,0.000542600447747807,0.0008589756667327372,0.00132795891845997,0.002005579801558697,0.0029598622607887566,0.004269537094046169,0.006020691974668247,0.00830088135592753,0.011190442843934075,0.01475114491943291,0.019012811061914266,0.023959176175673464,0.029514838300358306,0.03553563991585549,0.041804997412319245,0.048038454656074786,0.05389797821233634,0.05901624011589689,0.06302947244493196,0.06561567731986244,0.06653338904319377,0.06565520489510077,0.06299027069948072,0.05869101920061146,0.053041671071908054,0.04642900382116145,0.03929911298427829,0.032106634630393927,0.025264497350678938,0.019102267929655605,0.01383945589961233,0.009577086372323417,0.006307148104373651,0.003936078066043204,0.002316096882219133,0.0012774901855126997,0.0006558929492377039,0.0003108477732189607,0.00013461683414858948,5.2612699986286664e-05,1.8273060196814438e-05,5.530714527725547e-06,1.4225725449265324e-06,3.0080561452543315e-07,4.9990557620973104e-08,6.1303051834324e-09,5.057302269284831e-10,2.4318006744608176e-11,5.359919630743941e-13,3.4510422848418024e-15,2.3604251518860217e-18,6.797940164007746e-24],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 6, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 6 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="6932930e-0344-4909-8952-c0b9b19f1f18" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("6932930e-0344-4909-8952-c0b9b19f1f18")) {                    Plotly.newPlot(                        "6932930e-0344-4909-8952-c0b9b19f1f18",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,3.00725645174585e-79,6.785541927268535e-65,1.5380284077749468e-56,1.2190687621353204e-50,4.352089322761808e-46,2.184488687636374e-42,2.829366226614564e-39,1.3586722618256638e-36,3.0559280159428626e-34,3.776427020380271e-32,2.8731252610234057e-30,1.4636944354271107e-28,5.321942320356318e-27,1.4512416550082207e-25,3.0868592478620196e-24,5.2862293116367e-23,7.479334983910031e-22,8.93241192169623e-21,9.167439730666315e-20,8.208818861591521e-19,6.4964533820708294e-18,4.594678763678385e-17,2.932161272263293e-16,1.702574095043853e-15,9.061287534221928e-15,4.448759849203986e-14,2.0264177410802975e-13,8.607140501375948e-13,3.4244378287533484e-12,1.2813694446425487e-11,4.525730091508792e-11,1.5137334950700992e-10,4.808788307332394e-10,1.4548028485187599e-09,4.201488469641292e-09,1.160872032174603e-08,3.0747700925326984e-08,7.821232403157807e-08,1.9137657219092635e-07,4.5113489340812854e-07,1.0259426778815196e-06,2.2536198564018463e-06,4.7870966020865384e-06,9.843414229452548e-06,1.961136039139454e-05,3.789008284824467e-05,7.104448367455579e-05,0.00012936565463549335,0.00022890530965495877,0.00039379894432788894,0.0006589902868517819,0.0010731111821818333,0.0017010592010407285,0.002625571269146572,0.003946861238705465,0.005779244450513399,0.008243704583477594,0.011455661678037602,0.015507843616588239,0.020449153339843568,0.026261670923187874,0.03283922624728437,0.03997200790550358,0.047342059398836886,0.05453390547421729,0.06106274829492007,0.06641973979184533,0.07013017982535828,0.07181684856919175,0.07125800352701755,0.06842878165490908,0.0635164545101007,0.056904215527013774,0.049124237669794124,0.04078728179959568,0.03250147610259904,0.02479548406987407,0.018060251208298773,0.012519005358433035,0.00822837971839264,0.00510635819666147,0.0029772451788875067,0.0016214890179234906,0.0008193179441377921,0.0003809943348263661,0.00016147445380884512,6.164691895357479e-05,2.089741075742062e-05,6.1784309488535424e-06,1.557578672434903e-06,3.252050617676118e-07,5.4115463874113316e-08,6.812895220183054e-09,6.032041466711719e-10,3.374667799820139e-11,1.0104847103338858e-12,1.2261215323194341e-14,3.578406733365396e-17,7.786095219353926e-21,3.0072564517459035e-27],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 7, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 7 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="d2aed916-28ba-46e3-a10c-b7349380111c" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d2aed916-28ba-46e3-a10c-b7349380111c")) {                    Plotly.newPlot(                        "d2aed916-28ba-46e3-a10c-b7349380111c",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,5.562556205235364e-86,3.819569673975362e-70,6.248919874535802e-61,1.9828541828255224e-54,2.0511996516853754e-49,2.431241080333496e-45,6.455391412469328e-42,5.729059513719385e-39,2.199878781474003e-36,4.359051548825607e-34,5.053991189173101e-32,3.761929324200166e-30,1.9288756584870955e-28,7.19581722838488e-27,2.0397142299789193e-25,4.549299060194127e-24,8.215007588278116e-23,1.2297750475244287e-21,1.5566439105632354e-20,1.6941805523488502e-19,1.6081504696244318e-18,1.3477457178497134e-17,1.0078687827734032e-16,6.787655664424038e-16,4.150131552937301e-15,2.3201494811260785e-14,1.193466808575796e-13,5.680247988924198e-13,2.5138867243869376e-12,1.0391454199026346e-11,4.0280167311807103e-11,1.469429360131996e-10,5.061204305426533e-10,1.6507324487471461e-09,5.1117195946075026e-09,1.5064946102152364e-08,4.234723756954165e-08,1.1376269404482255e-07,2.925999186677478e-07,7.217046406708481e-07,1.7096317661220866e-06,3.894853417165234e-06,8.543943822064266e-06,1.8067055103712637e-05,3.686501130965024e-05,7.264941268042185e-05,0.00013838607700104952,0.0002549813829812803,0.0004547334813765237,0.0007853792026130197,0.0013142677842895476,0.0021317967001865524,0.0033528097456509472,0.00511429584720861,0.007567604221703562,0.010863698783634454,0.015130874460487017,0.020445906560370344,0.026801670890213607,0.03407648681921342,0.04201220090481671,0.050208626996835475,0.058140751627263475,0.06520179968130665,0.07077010419227574,0.07429168239187807,0.0753650020849043,0.07381135233822343,0.06971490436289574,0.06342146452257191,0.05549332812915047,0.046627557502247736,0.037553709708463244,0.028931915649451932,0.021271678829956987,0.014885897945629669,0.009885220760079859,0.006207831599876434,0.00367216876987023,0.002036876420124982,0.0010538778959527104,0.0005055403377745612,0.00022323945106402307,8.99906628434729e-05,3.278815706215044e-05,1.066980107499536e-05,3.056692591148558e-06,7.574021759164096e-07,1.5879557919652585e-07,2.739869713903783e-08,3.753774720215004e-09,3.8956238532194053e-10,2.8727665437664774e-11,1.376251272019377e-12,3.7558587663270805e-14,4.762553642982094e-16,1.9943257382409793e-18,1.4538858217612246e-21,4.3827793707996945e-26,5.562556205235487e-34],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 8, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 8 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="8d033abc-cae3-4472-a318-a8ca0c0853a9" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("8d033abc-cae3-4472-a318-a8ca0c0853a9")) {                    Plotly.newPlot(                        "8d033abc-cae3-4472-a318-a8ca0c0853a9",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,2.5322842498198168e-104,1.7805428705981194e-85,1.6797921401166848e-74,9.465176845408526e-67,9.118974873075773e-61,6.6923488430278725e-56,8.30120276167325e-52,2.8004075847384494e-48,3.491900713879452e-45,1.984403783795423e-42,5.967595442745421e-40,1.0603790389012355e-37,1.210530669940606e-35,9.475421155560411e-34,5.354512760422234e-32,2.2771013218509204e-30,7.539372901676166e-29,1.9988894207198096e-27,4.344735356856295e-26,7.897646492860358e-25,1.2211181061903148e-23,1.6295692106378134e-22,1.9007298517532005e-21,1.959161606088259e-20,1.8017726560239477e-19,1.4910337966231013e-18,1.1186288828065975e-17,7.659239530541326e-17,4.814638951708478e-16,2.7933600427551725e-15,1.5029559280665663e-14,7.531587705945774e-14,3.5288346499543284e-13,1.5513289616426301e-12,6.4192679990316514e-12,2.5074404723591786e-11,9.270013520654591e-11,3.2514260124090945e-10,1.0843221087980527e-09,3.445065256572465e-09,1.0446701547502092e-08,3.0284615434542417e-08,8.405837334553707e-08,2.2369288750834267e-07,5.714490970329618e-07,1.4029702634738963e-06,3.3136681917992925e-06,7.536312310959249e-06,1.651793579676433e-05,3.491543696675186e-05,7.122355796878063e-05,0.0001402869468646563,0.000266935077698133,0.0004908643445303708,0.0008726163526856962,0.001500016468396481,0.0024937368693922417,0.0040098151179910006,0.006236199900563487,0.00938005444971074,0.013643061138239992,0.01918374009543052,0.026068988352407646,0.03422136785053375,0.04337319782089138,0.05304171899417244,0.0625396986269309,0.07103139287969622,0.07763446864091356,0.08155577296632852,0.08223606109768865,0.07947045000492055,0.07347159830674688,0.06485335218851741,0.05453212765462819,0.04356613186228137,0.032970965572201076,0.023557217719198106,0.01582820211597963,0.009956405868071934,0.005832819351379433,0.0031632417183706865,0.0015768482892800735,0.000716520058860456,0.00029386259237506695,0.00010749267649064541,3.456864304230587e-05,9.602654680222481e-06,2.254117318413806e-06,4.349036451684317e-07,6.654572638871408e-08,7.70359302770325e-09,6.329477516010919e-10,3.374537906378286e-11,1.0237250900276969e-12,1.4414190330725875e-14,6.695013829136224e-17,5.4079055734073126e-20,1.8044281611051532e-24,2.5322842498198725e-32],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 9, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 9 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">9</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="2258f2aa-3c88-43ff-b64d-017ad99232f8" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("2258f2aa-3c88-43ff-b64d-017ad99232f8")) {                    Plotly.newPlot(                        "2258f2aa-3c88-43ff-b64d-017ad99232f8",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,2.452096243572085e-113,1.0599814019664219e-92,1.0937358164687347e-80,3.3235382083180836e-72,1.1718608230781256e-65,2.4626662153117568e-60,7.383558745694731e-56,5.317628821466897e-52,1.2873401401134625e-48,1.3177125250208951e-45,6.716616941619772e-43,1.9236838338602782e-40,3.393060925379578e-38,3.9579363429880495e-36,3.2306237049566013e-34,1.9310922122838788e-32,8.773461104200877e-31,3.1243611420721476e-29,8.948812356681371e-28,2.106894541998064e-26,4.153923033732693e-25,6.968548367660669e-24,1.0085347820908686e-22,1.2744584187240812e-21,1.421083088217642e-20,1.4112296328566544e-19,1.2584053345620764e-18,1.0149632987597539e-17,7.45258188321175e-17,5.010867256816836e-16,3.1012275045031207e-15,1.775038711539259e-14,9.43573330855526e-14,4.676292536635873e-13,2.168176205581467e-12,9.434613661067601e-12,3.8639870849114215e-11,1.4933538008530346e-10,5.45931019399069e-10,1.8919157774997565e-09,6.227480661582572e-09,1.950522257306186e-08,5.822758090160292e-08,1.6591769872064354e-07,4.5188695015945285e-07,1.1777992471325065e-06,2.9410083944306676e-06,7.042629613833048e-06,1.6187161013935054e-05,3.573907190228558e-05,7.584898913978256e-05,0.00015482700175816996,0.00030412412548868093,0.0005750962501221094,0.0010472632632268905,0.0018369583203187581,0.003104098718410357,0.005053487442308469,0.007926004556560375,0.011974940020228695,0.017424320825431997,0.024409950865215777,0.03290992703713794,0.042678501562726845,0.0532030639809032,0.06370572158671156,0.0732057723028412,0.08064633304221278,0.08506954320862331,0.08580543194069569,0.08262709230487097,0.07582592215063548,0.06617802955647326,0.05480281441639962,0.04294755783012229,0.031755258194378494,0.022077304211117463,0.014375667332872592,0.008727903112565808,0.004915240259435409,0.0025523115173213995,0.0012135424035681912,0.000524050988091492,0.00020357517322958614,7.033360023589948e-05,2.131864896715798e-05,5.576157714594967e-06,1.2333485054995576e-06,2.249399519327641e-07,3.276754490354003e-08,3.659262644330408e-09,2.9676685310096046e-10,1.6242413365987817e-11,5.412509240950941e-13,9.443979568769609e-15,6.828459315200612e-17,1.3824419615418203e-19,3.757470945595236e-23,2.6320601192774163e-28,2.452096243572147e-37],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 10, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 10 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="eb376df8-d942-40d8-87c4-d7d8f7121cc6" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("eb376df8-d942-40d8-87c4-d7d8f7121cc6")) {                    Plotly.newPlot(                        "eb376df8-d942-40d8-87c4-d7d8f7121cc6",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,4.63411071344801e-127,5.026173697750305e-104,1.3024573670295844e-90,3.8730487933428095e-81,7.972736842150842e-74,7.054912949551835e-68,7.107791098429835e-63,1.4582524204534337e-58,8.864167102156742e-55,2.0622074520150823e-51,2.203971498545393e-48,1.2382050480164903e-45,4.050724566754294e-43,8.355270005460214e-41,1.1572901150370374e-38,1.1324775942519559e-36,8.161120521620604e-35,4.4825624283192664e-33,1.9313047442063926e-31,6.6877756301375e-30,1.9002978217916457e-28,4.510314659026818e-27,9.080958008315047e-26,1.5719037419022347e-24,2.366985613551928e-23,3.1328232338470684e-22,3.678095460745526e-21,3.861794881833728e-20,3.652452912849089e-19,3.132048845608242e-18,2.4493573482439963e-17,1.7560413181220143e-16,1.159668592369682e-15,7.084537552625032e-15,4.019348773630148e-14,2.1251996396289061e-13,1.0506021855553574e-12,4.8701403462249935e-12,2.122593841252832e-11,8.719072580800689e-11,3.383098443782419e-10,1.2424477963297427e-09,4.326744721302018e-09,1.4311749691196491e-08,4.5033412441119125e-08,1.3498583522893474e-07,3.859184488240473e-07,1.0535262959567137e-06,2.7490010608712694e-06,6.862345035682553e-06,1.6401369317125033e-05,3.7557312357772846e-05,8.244592557483219e-05,0.00017358621098653156,0.00035067268759497326,0.0006799194099834006,0.0012655188433937624,0.0022614185160799937,0.00387969767776964,0.006389692471791725,0.01010051260482316,0.01531999164823055,0.02228678387706023,0.031080020477435938,0.04152191663090754,0.05310004701182846,0.06494272020980743,0.075877445185757,0.08458545243452843,0.08983620198535527,0.09075293148059105,0.0870367290190154,0.07907544941798123,0.0678911307144891,0.05492931327259299,0.04174777143648621,0.029697727645323056,0.01969107385329603,0.012111582779032657,0.0068727750574676845,0.003575219545062719,0.001692395532718923,0.0007227235170492436,0.0002756042037699302,9.272206879404134e-05,2.712431004159129e-05,6.779131125072436e-06,1.4166507210026002e-06,2.409783556195815e-07,3.225508883568069e-08,3.252023041434677e-09,2.3314812244377093e-10,1.0993171788867687e-11,3.055247890739701e-13,4.262606817430059e-15,2.3273488884850987e-17,3.276194354570142e-20,5.43720414578469e-24,1.8359728143579334e-29,4.6341107134481345e-39],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 11, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 11 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="9426944b-8eb7-4121-90d2-6176a1f5d433" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("9426944b-8eb7-4121-90d2-6176a1f5d433")) {                    Plotly.newPlot(                        "9426944b-8eb7-4121-90d2-6176a1f5d433",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,1.9695811017206828e-138,2.653142092439442e-113,1.1394571289919685e-98,2.461475818641884e-88,2.342171122897487e-80,7.196621983751874e-74,2.0663884195778203e-68,1.0454876903876462e-63,1.4031575772604327e-59,6.604865711594518e-56,1.330729429746638e-52,1.3293482731230785e-49,7.361929593237564e-47,2.4650285846979644e-44,5.3454451055218953e-42,7.934758940309642e-40,8.436019258631092e-38,6.669228889075249e-36,4.045526351238654e-34,1.9335445544560632e-32,7.447905504374555e-31,2.3575143451533697e-29,6.236167776727456e-28,1.398892296242548e-26,2.695404313732445e-25,4.5117038034289615e-24,6.626313333509477e-23,8.615321040660134e-22,9.994833495015896e-21,1.0419810454975015e-19,9.823937506594082e-19,8.424406488096414e-18,6.604891316396508e-17,4.756590863058813e-16,3.1598849719093513e-15,1.943859055591008e-14,1.111214125882708e-13,5.921827666526464e-13,2.9505411821746285e-12,1.37812052352694e-11,6.048711164945586e-11,2.5002686822973984e-10,9.752858100245834e-10,3.596611243148202e-09,1.2560126049622514e-08,4.1599542227846544e-08,1.3084866279809144e-07,3.9135340221750236e-07,1.1142046375916447e-06,3.0225992640556424e-06,7.81967704327073e-06,1.9306947465764422e-05,4.5523061408406576e-05,0.00010255871702571454,0.00022086236921089916,0.0004547980908631965,0.0008956907692426031,0.0016872899847171557,0.003040306029447327,0.00523959528499787,0.008634549771719114,0.01360196457163317,0.020473377808529477,0.029427525830033965,0.04036322456263032,0.05278542840733938,0.06575038632290275,0.07791559140357239,0.08771961359963817,0.09367640331660738,0.09471970369959001,0.09049643960156961,0.08150481142740548,0.06901346544656953,0.05477224225734362,0.040602795176845584,0.028002672719473345,0.017886385681805245,0.010526064975606413,0.005673190751909317,0.0027809635603170063,0.0012298923581311532,0.00048612036109340137,0.00016982243641214557,5.174674111047912e-05,1.3537207908309591e-05,2.98263680676705e-06,5.406036980181674e-07,7.828152623654014e-08,8.727328577018548e-09,7.142509447303332e-10,4.0297834169689455e-11,1.439398609329512e-12,2.8883047296103655e-14,2.732761474943486e-16,9.291323897548385e-19,7.200443296883201e-22,5.416632816866459e-26,5.818486869848652e-32,1.9695811017207404e-42],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 12, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 12 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">12</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="5cddd3ce-f9cf-425d-b8ee-81d2d5a85b67" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("5cddd3ce-f9cf-425d-b8ee-81d2d5a85b67")) {                    Plotly.newPlot(                        "5cddd3ce-f9cf-425d-b8ee-81d2d5a85b67",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,8.342615483193915e-150,1.3957396685999752e-122,9.934668007361961e-107,1.559046520571355e-95,6.85726148015437e-87,7.316217674946356e-80,5.987012416100349e-74,7.470093487245671e-69,2.213583212781527e-64,2.1082229058871592e-60,8.007453855736198e-57,1.4223480333232158e-53,1.3334339272102182e-50,7.2477687138656e-48,2.460630481947666e-45,5.54062492834512e-43,8.690529316588891e-41,9.888850111185975e-39,8.445398694764142e-37,5.571184854710978e-35,2.909159551577614e-33,1.2280689253652224e-31,4.2680039201169894e-30,1.240690636453463e-28,3.058955190582138e-27,6.475393496359179e-26,1.1897119807851365e-24,1.9154667780413366e-23,2.7257586360655688e-22,3.45471325790079e-21,3.926810346265347e-20,4.0277712070760606e-19,3.749025130074773e-18,3.1827386882685625e-17,2.4757554806087373e-16,1.771946911365269e-15,1.1713268607188544e-14,7.176140745649095e-14,4.087496153325136e-13,2.1708259444933436e-12,1.0777845496673037e-11,5.014366892663247e-11,2.1909044315693704e-10,9.007725821494958e-10,3.4911944131108474e-09,1.2776438253306752e-08,4.421442000037239e-08,1.448817698914731e-07,4.5006569515868644e-07,1.3268123018081778e-06,3.715509885552821e-06,9.8913055781872e-06,2.5050397314829067e-05,6.038802560218906e-05,0.0001386316546011998,0.00030318012097941264,0.000631783786333452,0.0012546408074521837,0.0023744203846069907,0.0042818990494226244,0.007356256685597913,0.01203554179862658,0.018743577897305998,0.027768159692531852,0.039103462221467475,0.052294268342069156,0.0663417674361002,0.07973645778138416,0.09066061038598736,0.0973486488145175,0.0985237411685248,0.09377375792169505,0.08372318095178818,0.06991583114739928,0.0544299288512994,0.03935495887267242,0.02631459222836422,0.01619185763292199,0.009117002767137982,0.004667061652469335,0.002155801530781783,0.0008907446676995822,0.0003258639611103609,0.00010428580370788732,2.8780861574910963e-05,6.733182615696485e-06,1.3078188926712915e-06,2.0559669676308462e-07,2.5343198643817125e-08,2.353343417297294e-09,1.5633957547476762e-10,6.941484906921679e-12,1.8782787201209875e-13,2.7212000185337373e-15,1.7460194342861896e-17,3.6967033649570696e-20,1.5771380408940947e-23,5.377792599957628e-28,1.8377006391986574e-34,8.342615483194179e-46],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 13, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 13 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">13</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="cf459519-5a04-475c-90b3-a083d9707cc4" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("cf459519-5a04-475c-90b3-a083d9707cc4")) {                    Plotly.newPlot(                        "cf459519-5a04-475c-90b3-a083d9707cc4",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,1.4947990680378665e-163,6.274734690798983e-134,1.1216468449003228e-116,1.72251520733286e-104,4.423171741010044e-95,1.987121504254844e-87,5.464252723569078e-81,1.9421931645962832e-75,1.4450809438459533e-70,3.1280947802853646e-66,2.4911595076945037e-62,8.679934532427975e-59,1.5092606702768548e-55,1.4506001162077112e-52,8.357068576268514e-50,3.080612374707556e-47,7.664375313913723e-45,1.3451248967087562e-42,1.7280538043818348e-40,1.6766335919992913e-38,1.2617765846129011e-36,7.535966561011258e-35,3.643487588630569e-33,1.4508265012146776e-31,4.8305987033672254e-30,1.3628751301854714e-28,3.296825640020991e-27,6.909795371072118e-26,1.2665343243059483e-24,2.0472898492094128e-23,2.9404252846752226e-22,3.777838535790102e-21,4.3684592339823934e-20,4.571539918112115e-19,4.3513154254650585e-18,3.7842342905989495e-17,3.019481926178684e-16,2.2188166239667076e-15,1.506739533906347e-14,9.485171666143453e-14,5.551187536295162e-13,3.0282731444583748e-12,1.543503635963414e-11,7.366596343488652e-11,3.298608619021083e-10,1.3882843379233978e-09,5.500661330922363e-09,2.054830352657043e-08,7.246558962697567e-08,2.415407818182635e-07,7.617288944555707e-07,2.274851855178225e-06,6.438499129093252e-06,1.728133210057253e-05,4.401089265627551e-05,0.00010639238799473997,0.00024420427699903583,0.000532305385272,0.0011019271339309284,0.0021661809484535065,0.004042929133991468,0.007161581964855455,0.012034406459376458,0.01917215491659419,0.0289339453946979,0.041325893810548166,0.05579867477586368,0.07112736357382249,0.08546571150846458,0.09663139006799315,0.10259608415103649,0.10205114433179865,0.0948473617928141,0.0821178182516879,0.06600170596031843,0.04905336556015936,0.033560275756335356,0.021027602637806852,0.011994848578893493,0.0061870355965506565,0.0028630538042048624,0.0011777465574271632,0.0004260756084684615,0.00013385602223559202,3.5972925064347105e-05,8.122152001455521e-06,1.5074339442939281e-06,2.238952117762902e-07,2.5740949596659867e-08,2.196298395945235e-09,1.3172877652763234e-10,5.170357971128402e-12,1.2052695701441556e-13,1.4563305680881724e-15,7.471727212634157e-18,1.1945520202095096e-20,3.543595611857085e-24,7.377950811409417e-29,1.2153375202900112e-35,1.494799068037916e-47],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 14, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 14 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">14</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="8c83182f-fb78-4162-91e2-703dabed8117" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("8c83182f-fb78-4162-91e2-703dabed8117")) {                    Plotly.newPlot(                        "8c83182f-fb78-4162-91e2-703dabed8117",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,1.0317304302931847e-179,2.1952497926394015e-147,1.4933339162509459e-128,3.0231391856181287e-115,5.724248723278923e-105,1.313084586851523e-96,1.4306203971245326e-89,1.6732802089839994e-83,3.5550524124600735e-78,1.9647383282672323e-73,3.6488972447952977e-69,2.751193217966268e-65,9.72121435303944e-62,1.799710718681037e-58,1.907028441759025e-55,1.241993282308895e-52,5.269625638753478e-50,1.5285395170687916e-47,3.155999625604518e-45,4.799285263384406e-43,5.533877292500106e-41,4.960821527809778e-39,3.5330179415428e-37,2.036998935723567e-35,9.666250649529912e-34,3.8305477751651294e-32,1.2840590552707832e-30,3.682932421497806e-29,9.130926842357638e-28,1.974751243260401e-26,3.7561839678323573e-25,6.3303206587277556e-24,9.515816978117844e-23,1.28360379963493e-21,1.562285214399262e-20,1.724238356147776e-19,1.7334501088197101e-18,1.5940346283881446e-17,1.3458441087471e-16,1.0468835456872319e-15,7.526191800149645e-15,5.015036427559461e-14,3.1055260189424503e-13,1.7914275083056304e-12,9.647501660502099e-12,4.8600979307436436e-11,2.2944194186236108e-10,1.0167317829824414e-09,4.235291588761341e-09,1.6606346841779657e-08,6.136001267969815e-08,2.1387632532805418e-07,7.038694673388792e-07,2.188781121309082e-06,6.435253152169271e-06,1.7897762271407665e-05,4.710457232196899e-05,0.00011734502427277351,0.00027672837577762154,0.0006177649492434547,0.0013052931440864991,0.0026096496166925563,0.004934653226960827,0.008820147360614001,0.014890654589497836,0.023722974456483654,0.03562537524167048,0.05036331253619234,0.0669217253204654,0.083434506703518,0.09740036847988222,0.10621644611897431,0.10791267280613495,0.10182866864034479,0.08893307337981596,0.07160025525097101,0.052897690408756276,0.03567405218731277,0.021829545514074348,0.012036361253021731,0.005932094990737105,0.0025888896392115075,0.0009895675170171433,0.0003270271673249978,9.201306313221436e-05,2.1638734317857113e-05,4.159326578695064e-06,6.357928346050003e-07,7.46963346746476e-08,6.46026058162756e-09,3.8907794256776786e-10,1.5164810571424988e-11,3.4634118415200166e-13,4.031736211694055e-15,1.9501504937565717e-17,2.8549571241578315e-20,7.4376061408271e-24,1.2737233576428435e-28,1.5325938356476745e-35,1.0317304302932196e-47],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 15, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 15 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="633b787e-dd30-4071-8062-3965eac17f93" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("633b787e-dd30-4071-8062-3965eac17f93")) {                    Plotly.newPlot(                        "633b787e-dd30-4071-8062-3965eac17f93",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,6.376915091198848e-196,6.877545856564408e-161,1.7804045330527214e-140,4.751319039367771e-126,6.633827317703544e-115,7.770016779862659e-106,3.3541232791073254e-98,1.2909395320059083e-91,7.8317860466179e-86,1.1050718197701745e-80,4.7861103077798085e-76,7.808843295573527e-72,5.607092965332126e-68,1.999487398230426e-64,3.8969187180509694e-61,4.483967032210388e-58,3.2444698019774885e-55,1.5554344145231396e-52,5.161519808266583e-50,1.2302006123113149e-47,2.1733894715891043e-45,2.9243490994624827e-43,3.0678587791820585e-41,2.5611033078081762e-39,1.7321125847057344e-37,9.641101893870044e-36,4.478524861223135e-34,1.7578559632907898e-32,5.894863255312853e-31,1.70571485412678e-29,4.296794006749734e-28,9.498805597873068e-27,1.856200333922882e-25,3.227456848916993e-24,5.022975405272327e-23,7.035218005738328e-22,8.91150862015624e-21,1.0254985840447181e-19,1.0764957136560535e-18,1.0346954164196564e-17,9.137463119757553e-17,7.437279646547878e-16,5.595303653717156e-15,3.901149351815044e-14,2.5267362286485993e-13,1.5236057022357102e-12,8.570214370370358e-12,4.505031169805751e-11,2.2166431035336285e-10,1.02239499292845e-09,4.4262039793318194e-09,1.8006664831916717e-08,6.89065624613319e-08,2.4824952426580813e-07,8.426205906191016e-07,2.696173814360027e-06,8.136428960907107e-06,2.316484887025129e-05,6.223224720385521e-05,0.00015776576520066537,0.00037738180533535394,0.0008515622637734458,0.0018119640420837249,0.0036336385580398663,0.006862476884544526,0.012194865081656698,0.020368356289912945,0.03193396432338538,0.046924895960367516,0.06451105598234537,0.08280401349364132,0.09899804686980726,0.10994629935968979,0.1130742463311119,0.10730807742854866,0.09358824517770212,0.07466359088977854,0.054197106135757865,0.03557587501803235,0.020968568659567983,0.011006459927398798,0.005096079614716494,0.00205809378803809,0.0007154688378817315,0.00021075806236028996,5.162422789255296e-05,1.0277056045124218e-05,1.6167669589704945e-06,1.941042264549195e-07,1.7016478940651805e-08,1.0290904215677885e-09,3.983036990305973e-11,8.91220270551998e-13,9.995055872210237e-15,4.5580199286138456e-17,6.11019522479062e-20,1.3979227433084478e-23,1.9691347815505977e-28,1.730685742103307e-35,6.376915091199068e-48],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 16, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 16 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">16</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="5db4e279-3e86-4e58-b6ef-77263a6208c3" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("5db4e279-3e86-4e58-b6ef-77263a6208c3")) {                    Plotly.newPlot(                        "5db4e279-3e86-4e58-b6ef-77263a6208c3",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,1.8466107185495804e-202,6.060719208909982e-166,1.1324526727454831e-144,1.2098667427837596e-129,4.8948013028814305e-118,1.3538200844562292e-108,1.1980452085952828e-100,8.52187766970744e-94,8.826270155581307e-88,1.9969269745452638e-82,1.3180242307397978e-77,3.142010910937104e-73,3.1815049019063877e-69,1.552100470304607e-65,4.031202517391565e-62,6.041178531542594e-59,5.578911745006303e-56,3.3525048030353733e-53,1.3720804701332593e-50,3.9748041011820564e-48,8.422648663689713e-46,1.3428972804459292e-43,1.650867718704612e-41,1.598459544504494e-39,1.2419635199217919e-37,7.871625923510241e-36,4.129306564088536e-34,1.8161531219870556e-32,6.774713354203848e-31,2.1655547413119438e-29,5.9869815603038975e-28,1.4435407975697896e-26,3.0584671980893474e-25,5.733156022628608e-24,9.567217974486515e-23,1.4292939800443824e-21,1.9214294348038864e-20,2.3351808101850575e-19,2.5766682449658356e-18,2.5913517887409027e-17,2.383778455353134e-16,2.0122657691729056e-15,1.563401858176258e-14,1.1209724926913788e-13,7.435793645845626e-13,4.573407640173356e-12,2.613451781548034e-11,1.3901064317243982e-10,6.893783020575876e-10,3.1921576661981663e-09,1.3819650000740656e-08,5.6000914210132336e-08,2.126232917266289e-07,7.570267596852312e-07,2.5292944501651664e-06,7.934422235927741e-06,2.3379553642751125e-05,6.472565209944149e-05,0.00016837852916442423,0.0004115788235188258,0.0009451370913364594,0.002038274203827732,0.004126055097151411,0.00783456581645964,0.01394199425131225,0.023227454445267873,0.03618172759575228,0.052617694654550934,0.07131212555363373,0.08988713491857422,0.10512696397465113,0.11377420664754466,0.11359253488506242,0.10425714762626191,0.08761333023828673,0.0671048680267797,0.046599732670246606,0.029164397518514528,0.016336881879109866,0.008126057897522831,0.0035562103953700216,0.0013546845838696777,0.0004435911437391128,0.00012302587931043718,2.8395103544123472e-05,5.3403145535183224e-06,7.97755641525972e-07,9.173652081404773e-08,7.810088822323727e-09,4.686087474665111e-10,1.8596243115694145e-11,4.488805019296402e-13,5.883211362043032e-15,3.570092033269126e-17,7.941731787120122e-20,4.508436851732609e-23,3.559643589698804e-27,1.252497342578404e-32,1.5251370969399737e-40,1.846610718549652e-54],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 17, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 17 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">17</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="a2037d6d-7512-4dac-bb46-cd5ac60aa5b4" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("a2037d6d-7512-4dac-bb46-cd5ac60aa5b4")) {                    Plotly.newPlot(                        "a2037d6d-7512-4dac-bb46-cd5ac60aa5b4",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,1.9305135723855104e-211,3.895313565553188e-173,7.960665935251482e-151,4.586505631428654e-135,6.791059449380984e-123,5.378490221531042e-113,1.150456939987955e-104,1.7470467194832287e-97,3.513023779002796e-91,1.431611768908404e-85,1.601574149400953e-80,6.153932082730412e-76,9.627663581121305e-72,6.999428189205319e-68,2.6258715814445495e-64,5.531141594795532e-61,7.009025998253001e-58,5.6573665205274846e-55,3.051083583525299e-52,1.144809661467697e-49,3.093299054149531e-47,6.199900955210375e-45,9.457039639820125e-43,1.1226115530057312e-40,1.057549654946843e-38,8.043537592552068e-37,5.015151969964034e-35,2.5983018188074098e-33,1.132156344765637e-31,4.193991990816845e-30,1.3337294803348832e-28,3.6730158508655535e-27,8.829185153739679e-26,1.865795241445569e-24,3.4887285899191957e-23,5.806139991881232e-22,8.646735752894581e-21,1.1579286452529382e-19,1.4005880370626401e-18,1.536396007025996e-17,1.534163123089654e-16,1.3992220342612482e-15,1.1692054706145463e-14,8.976518793199486e-14,6.348220845447571e-13,4.1451014878771926e-12,2.504229837689055e-11,1.4024793083995814e-10,7.293650888515259e-10,3.5276262964438023e-09,1.5888965617722814e-08,6.672629420443779e-08,2.615342141259309e-07,9.575527971606387e-07,3.277210683505059e-06,1.0490375462570864e-05,3.141908712981249e-05,8.806751163752458e-05,0.00023104333785964345,0.0005672747561430542,0.0013032006553282786,0.0028000686579339944,0.005623545500396147,0.0105487058124921,0.01846343702444818,0.03011860930008764,0.045724744894765045,0.06449685815605886,0.08436364708668236,0.10210101522954097,0.11403725129665944,0.11720018391820462,0.1104629365838401,0.09511493623460619,0.07449526473956553,0.052807197771685396,0.033687613855634985,0.0192145172027627,0.009725679353532971,0.004331063192783831,0.0016800223147858816,0.0005610908854323209,0.0001591618391118143,3.773682751900487e-05,7.337269122700971e-06,1.1434576630659142e-06,1.3892968457946255e-07,1.2720647392231509e-08,8.414309923094916e-10,3.811831509540382e-11,1.1040050916559752e-12,1.8669180315254585e-14,1.6299324185530022e-16,6.182102490307914e-19,7.909688058637384e-22,2.3058492652495165e-25,7.935501798176736e-30,9.395411224118472e-36,2.4018038811054907e-44,1.9305135723855917e-59],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 18, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 18 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">18</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="d74abb66-fc24-4477-86f4-4065750e5d73" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d74abb66-fc24-4477-86f4-4065750e5d73")) {                    Plotly.newPlot(                        "d74abb66-fc24-4477-86f4-4065750e5d73",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,8.091545987449765e-223,2.027760338127543e-182,6.86807544170453e-159,2.874588743833657e-142,1.9674328083179872e-129,5.410639508551727e-119,3.298366088072026e-110,1.2352131916107777e-102,5.484042162160985e-96,4.5217660043103345e-90,9.536346491933732e-85,6.515535098682679e-80,1.725563860167681e-75,2.0364568732953575e-71,1.1960967150803444e-67,3.821818686737252e-64,7.144907755750608e-61,8.300701114140548e-58,6.302741806129315e-55,3.2640511790396397e-52,1.1955991025526605e-49,3.1958283034860514e-47,6.40460746312288e-45,9.852331641432423e-43,1.1876275207852175e-40,1.1423599515122708e-38,8.91013436808285e-37,5.716405712679243e-35,3.0552624803948866e-33,1.375973511341356e-31,5.275363317782401e-30,1.737715082029483e-28,4.959108257943818e-27,1.2353768421806106e-25,2.7047924707622168e-24,5.237255067849838e-23,9.019092163883536e-22,1.3885044308230887e-20,1.9199785540998285e-19,2.3948110953873502e-18,2.7050228310155835e-17,2.7768111899074457e-16,2.5990381595876763e-15,2.224640781685008e-14,1.7460728189723033e-13,1.2597567844424228e-12,8.37334756180017e-12,5.1377312205101954e-11,2.915319855485181e-10,1.5322928585034326e-09,7.470600600954516e-09,3.382729719582742e-08,1.4241048270720146e-07,5.579191511910883e-07,2.0355197987038495e-06,6.919957229798177e-06,2.1929777698286208e-05,6.480010276556197e-05,0.00017855172500660422,0.00045873558248681284,0.001098648472496302,0.002451675434291542,0.005094522643709603,0.009849695808670433,0.017699956365445208,0.02952604274552697,0.04565310375674538,0.06531326812016,0.08627948891715569,0.10499293337446305,0.11737553732265267,0.12017341682427085,0.1122817949814797,0.09535000039142941,0.07325481957174661,0.05064854125347909,0.03132547745780997,0.017212099615983745,0.008335588679354916,0.003525664323633026,0.0012887207370085574,0.0004021144047900112,0.00010557516241063578,2.2931148188927405e-05,4.038178612050543e-06,5.62783910295626e-07,6.027990685328235e-08,4.787145459259029e-09,2.695571999325175e-10,1.0171100949198659e-11,2.39121964558383e-13,3.182190812683708e-15,2.1046449716220385e-17,5.763468760088616e-20,5.0007712815488505e-23,9.078167792102691e-27,1.7199473617693427e-31,9.23040453115829e-38,7.506414442789758e-47,8.091545987450125e-63],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 19, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 19 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">19</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="9e8e4d23-5a2b-4ce7-918f-fe9f0a3a0d5f" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("9e8e4d23-5a2b-4ce7-918f-fe9f0a3a0d5f")) {                    Plotly.newPlot(                        "9e8e4d23-5a2b-4ce7-918f-fe9f0a3a0d5f",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,3.38609808421887e-234,1.0539019425257686e-191,5.9160262781917216e-167,1.79878347876773e-149,5.6907782903531944e-136,5.434332350451639e-125,9.44140711439317e-116,8.719442197827687e-108,8.547317969319143e-101,1.4259368374893964e-94,5.669259989732583e-89,6.887424612139945e-84,3.087809836299654e-79,5.915578914052155e-75,5.439619125640979e-71,2.6365424164937026e-67,7.27185082802671e-64,1.2159749172310502e-60,1.299913061647134e-57,9.291589473510338e-55,4.6137985880853804e-52,1.6447182280883855e-49,4.330511583323921e-47,8.632923989825136e-45,1.3315856852121202e-42,1.6198254667587409e-40,1.580497411949349e-38,1.2556421088077262e-36,8.231898913502043e-35,4.507149150233192e-33,2.083273930934657e-31,8.208120400329116e-30,2.780967629318255e-28,8.166656908166863e-27,2.0936789817125155e-25,4.716603058618763e-24,9.392535444461762e-23,1.6623486763885413e-21,2.6277964567655938e-20,3.7269085240472467e-19,4.761893854655527e-18,5.5019348793722565e-17,5.768247054807939e-16,5.504542435084474e-15,4.7949276274948297e-14,3.822501139065622e-13,2.795332221790665e-12,1.879125033571592e-11,1.1634208132155836e-10,6.645235300534037e-10,3.506911380732197e-09,1.7121703493333595e-08,7.742207115277288e-08,3.2455566141215297e-07,1.2622799378187549e-06,4.5574841600564794e-06,1.5282143582055893e-05,4.760417506001269e-05,0.00013776662852122389,0.00037037424421799834,0.000924731395533569,0.0021432194916561403,0.004607933047490062,0.009182392139886654,0.01694108501373448,0.028899142288342124,0.0455091481136311,0.06603491927244058,0.08809863130562176,0.10779520889321764,0.1206195838839633,0.12302628373305356,0.11394925470985749,0.09543376485928699,0.07192056954925952,0.04850093833890138,0.029082686903085974,0.015393862572772747,0.007132831832512214,0.0028654760404383476,0.0009869882065080338,0.00028772356173552597,6.991879701331093e-05,1.391219302862371e-05,2.2189421480943155e-06,2.765493460665889e-07,2.611316273459748e-08,1.798677960344484e-09,8.621696849177173e-11,2.709640117452051e-12,5.171032218032569e-14,5.415475115990842e-16,2.7132978721776942e-18,5.364645960816143e-21,3.1566323816161758e-24,3.5684110632694427e-28,3.7219051124330056e-33,9.053886714100186e-40,2.3422697813241444e-49,3.386098084219028e-66],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 20, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 20 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="478ba81c-3bfe-4e93-94f9-6d81e90b6b6c" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("478ba81c-3bfe-4e93-94f9-6d81e90b6b6c")) {                    Plotly.newPlot(                        "478ba81c-3bfe-4e93-94f9-6d81e90b6b6c",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,1.4149736937620083e-245,5.4697136428096904e-201,5.088689315506079e-175,1.1239910780565484e-156,1.643706328700689e-142,5.450352557104538e-131,2.6987048995989715e-121,6.146335878180881e-113,1.3302698263205224e-105,4.49027870036186e-99,3.365514997400437e-93,7.270167758129634e-88,5.517608229159601e-83,1.7159320721110978e-78,2.4703101964929517e-74,1.816269333074772e-70,7.390504758567909e-67,1.7787514255809456e-63,2.677194371043448e-60,2.641215707296026e-57,1.7779211147530605e-54,8.452406533570968e-52,2.9239281507635737e-49,7.553663193346347e-47,1.4908666060636088e-44,2.2935820462404897e-42,2.799523575195798e-40,2.754162134821345e-38,2.214788883746621e-36,1.4742617265365495e-34,8.215257640723136e-33,3.871592772664151e-31,1.5572885222475335e-29,5.391007920179624e-28,1.61832984005343e-26,4.2416588442075635e-25,9.767505508540795e-24,1.9873656466879073e-22,3.591433854290219e-21,5.791712686120286e-20,8.370844810010191e-19,1.0885925185985687e-17,1.2783678929703637e-16,1.3600765674596315e-15,1.3148692403181197e-14,1.1582154276691557e-13,9.318554454958913e-13,6.863107167157732e-12,4.636265003810038e-11,2.877794338502764e-10,1.643898006906006e-09,8.653811861067665e-09,4.203087354813979e-08,1.885332323830595e-07,7.816581006895338e-07,2.997282859068135e-06,1.0634452277580037e-05,3.4921685518847146e-05,0.00010614628886761514,0.0002986069646400623,0.0007772366181441256,0.0018709023895649227,0.004161880709571994,0.008548101247733848,0.01619164794564726,0.028245252853853254,0.04530101239653448,0.06666942225188853,0.08982796543127437,0.11051459890928461,0.12377668946710807,0.12576743565343465,0.11547671892628618,0.09538151568838626,0.07051001992602679,0.04637822729311406,0.026962003512165926,0.01374808358188757,0.006094926858117129,0.0023255913659550277,0.0007548243718162176,0.00020558055260652087,4.6238841151618275e-05,8.428420468507042e-06,1.217551217406493e-06,1.3570142353300253e-07,1.1296064990434993e-08,6.748558344452608e-10,2.7536920123733885e-11,7.208353342321668e-13,1.1166467896430453e-14,9.202963850550182e-17,3.492986497813572e-19,4.986306760616256e-22,1.9897193673699912e-25,1.4006587968849748e-29,8.042595795629871e-35,8.868091835643544e-42,7.29830647144685e-52,1.4149736937620774e-69],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 21, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 21 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">21</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="400329dd-cd22-407d-9a25-5108414e991b" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("400329dd-cd22-407d-9a25-5108414e991b")) {                    Plotly.newPlot(                        "400329dd-cd22-407d-9a25-5108414e991b",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,1.4172620555510358e-254,3.368116745969946e-208,3.4272008861569457e-181,4.0823622842743333e-162,2.1848970562435702e-147,2.0745710498538505e-135,2.48288637958655e-125,1.2072293895749796e-116,5.072801871962994e-109,3.0841867052584746e-102,3.918135697936324e-96,1.3642492672338637e-90,1.5997180946622116e-85,7.41390659510838e-81,1.5416814410570505e-76,1.5932269461043675e-72,8.895831897261215e-69,2.87583824740663e-65,5.703726763635894e-62,7.288291176275747e-59,6.255902883404973e-56,3.7387516801514323e-53,1.6047741406041553e-50,5.082644814612516e-48,1.2162840240568757e-45,2.245438764161279e-43,3.257582228324385e-41,3.7751214310172135e-39,3.5461091753804824e-37,2.735503710325628e-35,1.7534173724363376e-33,9.438167866283966e-32,4.30715168776624e-30,1.680910062342233e-28,5.6539614676423986e-27,1.6508437148176555e-25,4.211295334866647e-24,9.441551143173577e-23,1.8703550921156653e-21,3.28994086212248e-20,5.161539157033723e-19,7.252219300639409e-18,9.159681155135593e-17,1.043471601244373e-15,1.0755028125931486e-14,1.0057473284960686e-13,8.554852548026924e-13,6.633969601657899e-12,4.699589237617255e-11,3.0469286070406784e-10,1.8108302337991215e-09,9.879014551449094e-09,4.953251473704145e-08,2.2847763688521501e-07,9.703448177462975e-07,3.7967127545422234e-06,1.369231118311623e-05,4.552382810588277e-05,0.00013954550133749385,0.00039431623289900826,0.001026772013927867,0.002462416365328677,0.005434619031169989,0.011027020748422853,0.020543904588054777,0.035089974421699616,0.054849691123067396,0.0782956657744336,0.10181407382449428,0.12026976470586061,0.1286399220141025,0.1241243451178397,0.10758841655968848,0.08337030465604656,0.05743989055032733,0.03496693184903468,0.018674254484069612,0.00867806538600945,0.0034763505480420766,0.0011875510865179603,0.00034164715158890613,8.157955674634152e-05,1.5895248060825027e-05,2.4769622572363734e-06,3.014272547574277e-07,2.783825067812209e-08,1.884762511124572e-09,8.965659541387481e-11,2.8423802899465143e-12,5.617766167360535e-14,6.351348886393647e-16,3.667131739450683e-18,9.271635298172526e-21,8.272562724484359e-24,1.8986296317798052e-27,6.863435597348386e-32,1.7177834233403392e-37,6.373433356659808e-45,1.1011716977781117e-55,1.4172620555511098e-74],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 22, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 22 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">22</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="460d70c8-b50d-4992-8fe2-383173d20301" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("460d70c8-b50d-4992-8fe2-383173d20301")) {                    Plotly.newPlot(                        "460d70c8-b50d-4992-8fe2-383173d20301",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,5.90068255892934e-266,1.741625527168453e-217,2.9370995250412346e-189,2.5415506940506853e-169,6.287627438620101e-154,2.0730509364260475e-141,7.070966479912065e-131,8.478531650566249e-122,7.866128560452887e-114,9.676469436377212e-107,2.317436745416505e-100,1.4347775179706022e-94,2.8480462085352712e-89,2.142659739531618e-84,6.975589302054556e-80,1.0935191431676441e-75,9.007804809513828e-72,4.1913927677741765e-68,1.1703818219516285e-64,2.0641575037768702e-61,2.4018568152432227e-58,1.914338582119371e-55,1.0795547414298326e-52,4.430907873691454e-50,1.3567753082987647e-47,3.167747328170223e-45,5.7489560275375725e-43,8.25007348679823e-41,9.505778018903802e-39,8.914833345539883e-37,6.88911403248534e-35,4.435442048630261e-33,2.403070851515174e-31,1.1055372896788441e-29,4.3542469165544705e-28,1.4791616124707765e-26,4.363347291604818e-25,1.1246108421565623e-23,2.546850634313593e-22,5.093890760996616e-21,9.040075676377359e-20,1.429631430233631e-18,2.0225330055074697e-17,2.568774774989205e-16,2.9384297976939106e-15,3.036224423320419e-14,2.8413903745891414e-13,2.414025420625456e-12,1.8659267171552438e-11,1.3146644778143345e-10,8.457287104489281e-10,4.974819891433812e-09,2.6791514726335662e-08,1.322347755253726e-07,5.986741465979451e-07,2.4877891139448216e-06,9.493161546333697e-06,3.327301746579506e-05,0.00010712229894252625,0.0003167430325916115,0.000859834631974875,0.002141653601592911,0.004890528935336978,0.010227636239419266,0.01956302814295594,0.03417014525643556,0.05439846533910273,0.07875788075673636,0.10343165564807799,0.1228513446705288,0.13152250284442019,0.12642429205553285,0.10863048590935592,0.08301886863565781,0.0561066815356124,0.03331384728626247,0.017249009671945228,0.007721838894538445,0.00295960216495983,0.0009602674014893064,0.00026032448318324454,5.8075265287371005e-05,1.0473300471846561e-05,1.4951103472254088e-06,1.6478855203424723e-07,1.360996375484454e-08,8.123208522684841e-10,3.351529887270818e-11,9.04498933445076e-13,1.488988595159845e-14,1.3664942462431233e-16,6.208989468797602e-19,1.189211314527798e-21,7.660925791213006e-25,1.192370806082938e-28,2.6841222900411117e-33,3.698304047531319e-39,6.219734328334123e-47,3.418562161649377e-58,5.900682558929662e-78],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 23, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 23 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">23</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="0926a753-6368-4265-821e-fc8fc0768361" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("0926a753-6368-4265-821e-fc8fc0768361")) {                    Plotly.newPlot(                        "0926a753-6368-4265-821e-fc8fc0768361",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,2.454359685537221e-277,8.99717758063984e-227,2.514673647018167e-197,1.5807743345117137e-176,1.8077005383234137e-160,2.069547978321793e-147,2.0117989481446975e-136,5.948882044267257e-127,1.218591222376245e-118,3.0330324972202945e-111,1.3693679868367979e-104,1.5075067402252787e-98,5.065641734944691e-93,6.186473747178526e-88,3.1531964392236507e-83,7.498234239064509e-79,9.11245154678916e-75,6.102898258905651e-71,2.39927643782334e-67,5.840416461236941e-64,9.212724736077874e-61,9.79252636122365e-58,7.255365352791312e-55,3.859042355520055e-52,1.5120450343401775e-49,4.4646119425806e-47,1.0135996514306531e-44,1.8012275218555434e-42,2.5456992833426854e-40,2.9025052598807507e-38,2.7041159372040253e-36,2.082427964373306e-34,1.3394510600008948e-32,7.2641730347026585e-31,3.350095036640786e-29,1.3240645560587429e-27,4.5165594276610483e-26,1.3382740235300047e-24,3.464708891590293e-23,7.879434123841667e-22,1.5817898033412458e-20,2.8155361809174184e-19,4.461642255898058e-18,6.317646006847382e-17,8.020527906385791e-16,9.15720036755512e-15,9.428294668003007e-14,8.775948517945536e-13,7.401387318208791e-12,5.666976927975535e-11,3.946101730438641e-10,2.502793192610233e-09,1.4477315033226225e-08,7.64595138399116e-08,3.690105498924928e-07,1.6285580771394807e-06,6.5755009966258724e-06,2.4295702836840187e-05,8.215382612950947e-05,0.00025418700891132655,0.0007193491087452879,0.0018608905602534498,0.0043966958774699335,0.009477116531663566,0.018611142563289364,0.03324256022264436,0.05389928141293023,0.07914695070240216,0.10497430404912353,0.1253681546684669,0.13434089192724769,0.12864353230622091,0.10957760258634185,0.08258973993591354,0.054751929402854095,0.031708516216976304,0.015917282508211082,0.006864397440357661,0.0025172536266103392,0.0007757395546364802,0.0001981691704477087,4.130331688001581e-05,6.894196897444017e-06,9.015939132277375e-07,9.000267616015384e-08,6.64746197692552e-09,3.497699012913834e-10,1.2516641572516928e-11,2.875529326215831e-13,3.9427836798669924e-15,2.9371999424161535e-17,1.0502657435183327e-19,1.5238618296640483e-22,7.087716012685103e-26,7.481114121887853e-30,1.0486894532681964e-34,7.9546428262654e-41,6.0639286956460975e-49,1.0602683265146315e-60,2.4543596855373607e-81],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 24, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 24 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">24</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="879be275-0ab0-4641-b026-b3b3ceccf359" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("879be275-0ab0-4641-b026-b3b3ceccf359")) {                    Plotly.newPlot(                        "879be275-0ab0-4641-b026-b3b3ceccf359",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,4.264328669118206e-291,3.9221943369289574e-238,2.753063832648112e-207,1.6935800791846954e-185,1.1306845281984958e-168,5.450610821731773e-155,1.7804798598247633e-143,1.4998009078835318e-133,7.714117277258426e-125,4.363875075756549e-117,4.131037451179497e-110,8.920756922708329e-104,5.559799055499636e-98,1.200655532391903e-92,1.0384616522675916e-87,4.042678244892343e-83,7.792873681753868e-79,8.049794932004696e-75,4.760463754065754e-71,1.704379417102219e-67,3.8746715012963286e-64,5.826970774667219e-61,6.005976681076731e-58,4.3758597162339236e-55,2.3153915371572155e-52,9.111827484182985e-50,2.7236573276408894e-47,6.300731987060017e-45,1.1470135219196193e-42,1.6679084619002886e-40,1.9634841501157604e-38,1.894002101712233e-36,1.513452015599374e-34,1.0117648416025105e-32,5.7095491344885285e-31,2.7420056219141587e-29,1.1289999711541902e-27,4.0124291921811956e-26,1.2384527653078156e-24,3.3384670253321693e-23,7.900136361232301e-22,1.648814964667655e-20,3.047971050862208e-19,5.010013225140339e-18,7.348379549087908e-17,9.648575751493922e-16,1.1374072491204512e-14,1.206946908017943e-13,1.1555824047815529e-12,1.0003783696505239e-11,7.844805059698687e-11,5.581569484251604e-10,3.608194314946555e-09,2.1217283928237703e-08,1.1359740835976498e-07,5.541724809772159e-07,2.4645946855529327e-06,9.995460058976693e-06,3.6970466435265507e-05,0.00012469341769708202,0.0003833635641011963,0.001073732316133652,0.002737350921620544,0.006345004320951129,0.013353568911326223,0.02547384480557248,0.04395939353739244,0.06846140855151642,0.09595953791535156,0.1206722478066085,0.13565318279627483,0.1357551722437324,0.12037414057535609,0.09406322099066441,0.06437966201240611,0.03832455642051515,0.019684739442858756,0.008644251135340768,0.0032114526903961322,0.0009972105932085893,0.0002552047157443366,5.295602903612446e-05,8.741096066551678e-06,1.122162014727799e-06,1.0908354807599896e-07,7.775681288626848e-09,3.9093539071693665e-10,1.32174707844728e-11,2.832127543970252e-13,3.568131548967267e-15,2.39981139402079e-17,7.58576351266222e-20,9.482036322122807e-23,3.6782198037969904e-26,3.104345742584191e-30,3.28601267796308e-35,1.7331134881253466e-41,8.067104119064284e-50,6.799387576344719e-62,4.264328669118454e-83],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 25, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 25 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">25</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="5283dfb2-7746-4fc1-aecb-a46ff0160fa9" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("5283dfb2-7746-4fc1-aecb-a46ff0160fa9")) {                    Plotly.newPlot(                        "5283dfb2-7746-4fc1-aecb-a46ff0160fa9",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,2.9360097873451315e-307,1.3688034549095524e-251,3.656288681900142e-219,2.9649967502241767e-196,1.459652751981544e-178,3.592831599212612e-164,4.650012368014805e-152,1.2889416947109511e-141,1.8930560737109092e-132,2.734138628577642e-124,6.035908352212254e-117,2.820523714620761e-110,3.5722246845086836e-104,1.485924792498801e-98,2.363834546341357e-93,1.625828663185929e-88,5.344708747685508e-84,9.124777514318995e-80,8.6726606354294e-76,4.866627316653939e-72,1.6951391604780378e-68,3.826316472343386e-65,5.809457746858638e-62,6.128611899834902e-59,4.621733939956514e-56,2.55466355607308e-53,1.0581930202929708e-50,3.3499858880423163e-48,8.248782340963858e-46,1.6048286985050392e-43,2.502001197510666e-41,3.165819727633209e-39,3.288590944192217e-37,2.833814829885106e-35,2.0448665851073704e-33,1.246266821566625e-31,6.465412674504097e-30,2.8754586671789256e-28,1.10346720071764e-26,3.6755613558418986e-25,1.0684332064590047e-23,2.723794725274813e-22,6.117327904900031e-21,1.215331194193158e-19,2.1438730240418803e-18,3.369404987132416e-17,4.732572784757798e-16,5.9571975374499546e-15,6.73714373920531e-14,6.860745931373222e-13,6.303627972857623e-12,5.234670346537351e-11,3.934783218833561e-10,2.6806388861482593e-09,1.6569037823958853e-08,9.299434535852336e-08,4.7421874194607075e-07,2.1980117746313624e-06,9.261453570707663e-06,3.547279977988867e-05,0.00012346565628724556,0.00039029471060395075,0.001119659184651351,0.0029117912789302764,0.006855306729236385,0.014586959988353949,0.027996946182545616,0.048355604108056366,0.07495261195736659,0.10393415400752953,0.1284645233947879,0.14094630003040076,0.1366167031620911,0.11635255292736181,0.08653269698546766,0.055801555453355745,0.030950257579507943,0.014628960414384301,0.005830084640679441,0.0019351867856559125,0.0005274614077727916,0.00011611825824741692,2.025107390451324e-05,2.734795700743117e-06,2.7832767925135706e-07,2.0664390509672365e-08,1.0760021181176289e-09,3.7440581876021e-11,8.198057167729349e-13,1.0469428045357824e-14,7.070603285535892e-17,2.2194178969244643e-19,2.717971931287802e-22,1.0157649654593643e-25,8.082405045739184e-30,7.834064902681713e-35,3.628602795196775e-41,1.3892500690696781e-49,8.553096525616632e-62,2.9360097873453047e-83],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 26, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 26 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">26</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="dc24d303-0fa9-46c0-b808-05c80e122a2a" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("dc24d303-0fa9-46c0-b808-05c80e122a2a")) {                    Plotly.newPlot(                        "dc24d303-0fa9-46c0-b808-05c80e122a2a",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,4.857e-321,5.6829551104966794e-263,3.812285748711486e-229,3.0253135965093515e-205,8.69510497478843e-187,9.011910163168229e-172,3.919375862541414e-159,3.0948659572140125e-148,1.1413057015341111e-138,3.746503078167343e-130,1.7341709842649357e-122,1.5895804602107034e-115,3.7339947955365217e-109,2.746517673170937e-103,7.41424321925997e-98,8.34824655426458e-93,4.353081171084931e-88,1.1462551184722553e-83,1.6388214639854065e-79,1.3525734893759198e-75,6.789885756778091e-72,2.1683994823594124e-68,4.580050527905087e-65,6.618449851302514e-62,6.740233983151361e-59,4.965532188036128e-56,2.708078341063059e-53,1.1160296347605805e-50,3.5396604108022277e-48,8.782905209730715e-46,1.7302144003958535e-43,2.7422495093214713e-41,3.5388485707309885e-39,3.7590247813956392e-37,3.3190972882535026e-35,2.45799237356381e-33,1.539191899646767e-31,8.210692346589405e-30,3.7564917757777306e-28,1.4831533457477705e-26,5.082103554684581e-25,1.519131955397018e-23,3.980046724413904e-22,9.178855792511251e-21,1.8706735352249366e-19,3.3811467852482204e-18,5.437389740592059e-17,7.802727102214299e-16,1.0017836033802885e-14,1.1534386555966687e-13,1.193478967459502e-12,1.111811148834678e-11,9.339702020338344e-11,7.084462179029677e-10,4.857773339358508e-09,3.0137592994954636e-08,1.6928001575133227e-07,8.612190992631232e-07,3.96932451271581e-06,1.6572802791086737e-05,6.266537030513924e-05,0.0002144757395514117,0.0006638962479689671,0.0018566338290784783,0.004684481459127329,0.010645722543683194,0.02174651639021775,0.03983536245429671,0.06525326287577853,0.09527715302504441,0.12354218768240706,0.14165516860169006,0.1429307006797991,0.12620599387187142,0.09690357982772833,0.0642329456762744,0.03645317251525217,0.017544812715582368,0.007083692985934783,0.002369213254186671,0.0006469245170383183,0.0001417885992934706,2.445347512431025e-05,3.241752079501041e-06,3.212702770287433e-07,2.302054000219811e-08,1.1453705095363398e-09,3.765420214818082e-11,7.689821627982609e-13,9.023420172344993e-15,5.5018707996724145e-17,1.5266852151340107e-19,1.6106875738769105e-22,5.020360648790515e-26,3.194145774125231e-30,2.3378670851479313e-35,7.529325385805358e-42,1.7601688072335614e-50,5.223813936966137e-63,4.858254676082123e-85],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 27, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 27 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">27</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="b55c2424-6419-4380-9031-65b4f0e5f211" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("b55c2424-6419-4380-9031-65b4f0e5f211")) {                    Plotly.newPlot(                        "b55c2424-6419-4380-9031-65b4f0e5f211",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,0.0,2.3288950918471e-274,3.923493886704616e-239,3.046906616443394e-214,5.1126101258218195e-195,2.231204683592406e-179,3.2607859160498065e-166,7.33487948242551e-155,6.791771442793722e-145,5.0672720820461865e-136,4.917946060148476e-128,8.84255648683567e-121,3.852576015433539e-114,5.010839982988156e-108,2.2954040793192015e-102,4.2311490564676184e-97,3.499548801079201e-92,1.4212905192508237e-87,3.0567048164272023e-83,3.7105323263119164e-79,2.684492188086026e-75,1.212942656834273e-71,3.5640805297909397e-68,7.0549349235838965e-65,9.702587601375008e-62,9.526655431000995e-59,6.840693340639157e-56,3.6698730686582114e-53,1.499256429963311e-50,4.744498092151757e-48,1.1810135992790304e-45,2.344608423789951e-43,3.7588644895931315e-41,4.9217718281633796e-39,5.317623118735041e-37,4.785117384677555e-35,3.6168613038854174e-33,2.3141686017175e-31,1.262257683841152e-29,5.907326864991484e-28,2.386064669553122e-26,8.362944051381153e-25,2.5559782145115552e-23,6.84266085634916e-22,1.6111631191946117e-20,3.349017393499602e-19,6.166321895156238e-18,1.0087728881754944e-16,1.4703292337195495e-15,1.914080656683919e-14,2.2303937162344114e-13,2.330855117872985e-12,2.188203949353601e-11,1.8480683360724867e-10,1.4057878060267801e-09,9.640579772148768e-09,5.964516366834409e-08,3.3307332903228425e-07,1.6791775746345682e-06,7.642562948500096e-06,3.1394358886603213e-05,0.00011633388978868975,0.00038855915732929913,0.0011685164882474237,0.0031596481583293567,0.007668811477845501,0.016672905848853593,0.03239166707132055,0.05607383517859939,0.08621082970573843,0.11727081199489715,0.14052504664077492,0.1476011740266162,0.1351221705424293,0.10711294736901136,0.07298135796272762,0.04237882987669821,0.0207695255456515,0.008495465247928448,0.0028630437499483174,0.0007831755092595346,0.00017089315932193274,2.9145779898631932e-05,3.792951372584889e-06,3.6603891918344834e-07,2.5313429058754143e-08,1.2034316654566582e-09,3.7378931026540524e-11,7.119740370206711e-13,7.676477334413849e-15,4.2257798871934776e-17,1.0365791830691131e-19,9.421503550861033e-23,2.449171353590201e-26,1.2459810038471766e-30,6.886444236067283e-36,1.542109697564676e-42,2.2012571564025088e-51,3.149159034765107e-64,7.934976097591644e-87],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 28, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 28 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">28</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="ff8a4e32-4159-46d3-a17b-5da1d470f581" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("ff8a4e32-4159-46d3-a17b-5da1d470f581")) {                    Plotly.newPlot(                        "ff8a4e32-4159-46d3-a17b-5da1d470f581",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,0.0,1.5271722170396485e-281,2.8139873965287177e-245,1.1784831179414866e-219,7.237106615707441e-200,9.043960835135157e-184,3.1947676461492262e-170,1.5342002007205957e-158,2.7580794040853013e-148,3.7064413285808406e-139,6.097155150984799e-131,1.7670249523566088e-123,1.1894860568849452e-116,2.3055423032510093e-110,1.525519786771355e-104,3.952494374534204e-99,4.4858016178943696e-94,2.4470767784589644e-89,6.935022159837736e-85,1.0903692760525206e-80,1.0059009017508677e-76,5.713497692477344e-73,2.083100733111434e-69,5.055227438923675e-66,8.42945177292697e-63,9.932142354233827e-60,8.476702132086969e-57,5.35683178069105e-54,2.5562965260451492e-51,9.374940846839966e-49,2.6843216749779565e-46,6.086727940836353e-44,1.1071164302420463e-41,1.6342237800085636e-39,1.9784218453390154e-37,1.9832541137536272e-35,1.6606550560983952e-33,1.170782199895661e-31,7.000350091156736e-30,3.573449315291363e-28,1.566778807740787e-26,5.93308153852683e-25,1.9502810107542376e-23,5.59059245106931e-22,1.4034082953750842e-20,3.0969378346418564e-19,6.028450726992386e-18,1.0383927347498456e-16,1.5871639239751348e-15,2.1581334761504895e-14,2.616374715042018e-13,2.8335899130597624e-12,2.7461566121928976e-11,2.3850053269888074e-10,1.858423002068081e-09,1.3004651138594223e-08,8.178099896806117e-08,4.623799334116934e-07,2.350840660201032e-06,1.0747297979721548e-05,4.416598601673399e-05,0.00016305426056533096,0.0005403213997932776,0.0016052361134757684,0.004269197083965611,0.01014568066787166,0.021497755474952147,0.04050977885614382,0.06768182412467003,0.09991120038865743,0.12979034297241945,0.14769236499604455,0.14644563604280256,0.12577355155436135,0.09292237011611584,0.058596390555694704,0.0312575990250001,0.013961203984861727,0.005160095927112058,0.0015569061063270613,0.0003774909381878442,7.221701499744716e-05,1.0669684857350603e-05,1.1870418029559631e-06,9.650239367272991e-08,5.5299863678189464e-09,2.1382891376205023e-10,5.288270430125856e-12,7.826120265971756e-14,6.370963336743896e-16,2.559602715655007e-18,4.398623816335235e-21,2.6631473238735337e-24,4.32708861626097e-28,1.2661215216295213e-32,3.5935176911867363e-38,3.5075427728695964e-45,1.6847272112822574e-54,5.059913356073563e-68,8.463752585670217e-92],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 29, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p>computer and plot posteriors for 29 observations</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="mi">29</span>
<span class="n">an_obs_num_successes</span> <span class="o">=</span> <span class="n">obs_num_successes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="n">current_likelihood</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood</span><span class="p">(</span><span class="n">num_successes</span><span class="o">=</span><span class="n">an_obs_num_successes</span><span class="p">,</span>
                                          <span class="n">success_rate</span><span class="o">=</span><span class="n">success_rate</span><span class="p">)</span>
                               <span class="k">for</span> <span class="n">success_rate</span> <span class="ow">in</span> <span class="n">success_rates</span><span class="p">])</span>
<span class="n">current_posterior</span> <span class="o">=</span> <span class="n">current_prior</span> <span class="o">*</span> <span class="n">current_likelihood</span>
<span class="n">current_posterior</span> <span class="o">/=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">current_prior</span> <span class="o">=</span> <span class="n">current_posterior</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Bar</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">success_rates</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">current_posterior</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_vline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">true_success_rate</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Success Rate&quot;</span><span class="p">,</span>
                  <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Probability&quot;</span><span class="p">,</span>
                  <span class="n">title</span><span class="o">=</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Number Observations </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">, &quot;</span>
                         <span class="sa">f</span><span class="s2">&quot;True Prob. Success </span><span class="si">{</span><span class="n">true_success_rate</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
<span class="n">fig</span>
</pre></div>
</div>
<div class="output_subarea output_html rendered_html output_result">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>                <div id="0582f8ca-b552-4992-94d9-257de6c9d7c5" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("0582f8ca-b552-4992-94d9-257de6c9d7c5")) {                    Plotly.newPlot(                        "0582f8ca-b552-4992-94d9-257de6c9d7c5",                        [{"x":[0.0,0.009900990099009901,0.019801980198019802,0.0297029702970297,0.039603960396039604,0.04950495049504951,0.0594059405940594,0.06930693069306931,0.07920792079207921,0.0891089108910891,0.09900990099009901,0.10891089108910891,0.1188118811881188,0.12871287128712872,0.13861386138613863,0.1485148514851485,0.15841584158415842,0.16831683168316833,0.1782178217821782,0.18811881188118812,0.19801980198019803,0.2079207920792079,0.21782178217821782,0.22772277227722773,0.2376237623762376,0.24752475247524752,0.25742574257425743,0.26732673267326734,0.27722772277227725,0.2871287128712871,0.297029702970297,0.3069306930693069,0.31683168316831684,0.32673267326732675,0.33663366336633666,0.3465346534653465,0.3564356435643564,0.36633663366336633,0.37623762376237624,0.38613861386138615,0.39603960396039606,0.40594059405940597,0.4158415841584158,0.42574257425742573,0.43564356435643564,0.44554455445544555,0.45544554455445546,0.46534653465346537,0.4752475247524752,0.48514851485148514,0.49504950495049505,0.504950495049505,0.5148514851485149,0.5247524752475248,0.5346534653465347,0.5445544554455446,0.5544554455445545,0.5643564356435643,0.5742574257425742,0.5841584158415841,0.594059405940594,0.6039603960396039,0.6138613861386139,0.6237623762376238,0.6336633663366337,0.6435643564356436,0.6534653465346535,0.6633663366336634,0.6732673267326733,0.6831683168316832,0.693069306930693,0.7029702970297029,0.7128712871287128,0.7227722772277227,0.7326732673267327,0.7425742574257426,0.7524752475247525,0.7623762376237624,0.7722772277227723,0.7821782178217822,0.7920792079207921,0.801980198019802,0.8118811881188119,0.8217821782178217,0.8316831683168316,0.8415841584158416,0.8514851485148515,0.8613861386138614,0.8712871287128713,0.8811881188118812,0.8910891089108911,0.900990099009901,0.9108910891089109,0.9207920792079208,0.9306930693069307,0.9405940594059405,0.9504950495049505,0.9603960396039604,0.9702970297029703,0.9801980198019802,0.9900990099009901],"y":[0.0,0.0,1.1909290824019611e-286,1.583910854220506e-249,2.6555466093884416e-223,4.725449131430075e-203,1.3944562278516997e-186,1.0098123565418709e-172,8.962282886038417e-161,2.750618654721708e-150,5.927015000042572e-141,1.4858506354518186e-132,6.291741639065022e-125,5.972572260124084e-118,1.5837311969250505e-111,1.3964916120044196e-105,4.712352148123013e-100,6.82579176945892e-95,4.667373092215027e-90,1.6313872160639827e-85,3.1176015828696607e-81,3.4496381414330514e-77,2.3217895480659046e-73,9.919605488776581e-70,2.7920453559410926e-66,5.348589531650748e-63,7.176090833405273e-60,6.916339080892452e-57,4.897612275559702e-54,2.599774241213389e-51,1.0532670261488012e-48,3.309825993605135e-46,8.185612293322017e-44,1.6142823331957508e-41,2.5689287514153798e-39,3.334653650552326e-37,3.565575079952071e-35,3.16854483863579e-33,2.3592218199237437e-31,1.4827679063474e-29,7.919699315750609e-28,3.617055387394583e-26,1.420557318960512e-24,4.8222683330284e-23,1.4215673148845622e-21,3.6547584433969e-20,8.226347072327712e-19,1.6268059019191686e-17,2.835431179254924e-16,4.368082544442115e-15,5.962812298030013e-14,7.228909379106189e-13,7.79840976119459e-12,7.498644607913819e-11,6.436049522112891e-10,4.936499677584649e-09,3.38667362226938e-08,2.079514758572097e-07,1.1432814545308436e-06,5.628616232346146e-06,2.4811142367658393e-05,9.788338895403071e-05,0.0003453707620493149,0.0010887917806383155,0.0030628049958160938,0.007675336523155614,0.017100665945517294,0.033793537216924206,0.059067157295139,0.09102052481636501,0.12319264534545238,0.14581840120246992,0.15020432967322406,0.13389144444869097,0.10262157574999076,0.06713751622018409,0.03718012150271576,0.017263839312876075,0.006648244776492781,0.002096904109432038,0.000533925626040052,0.00010793282351773526,1.6988253582147543e-05,2.0350567029193633e-06,1.806254680612426e-07,1.1505475252606626e-08,5.062261167717921e-10,1.468841066381795e-11,2.6553129473176506e-13,2.7866005335168502e-15,1.5525765193644732e-17,4.0930915519565646e-20,4.386725308340934e-23,1.555721324540321e-26,1.3677199835858982e-30,1.9521878447265298e-35,2.3463776277305976e-41,7.903756257492103e-49,9.482834641130174e-59,3.9458535867443005e-73,2.168876855870584e-98],"type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"shapes":[{"line":{"color":"red"},"type":"line","x0":0.7,"x1":0.7,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"xaxis":{"title":{"text":"Success Rate"}},"yaxis":{"title":{"text":"Probability"}},"title":{"text":"Number Observations 30, True Prob. Success 0.7"}},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
<br />
<br /><p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 0.301 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-foundations-plot-example8-13b-py">
<div class="binder-badge docutils container">
<a class="reference external image-reference" href="https://mybinder.org/v2/gh/joacorapela/gcnuBridging2023/gh-pages?filepath=notebooks/auto_examples/foundations/plot_example8_13b.ipynb"><img alt="Launch binder" src="../../_images/binder_badge_logo2.svg" width="150px" /></a>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/e2fdc06d7000c1b9f707abdc6332ff73/plot_example8_13b.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_example8_13b.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/02467708387fe0df85d25999ab7fcd82/plot_example8_13b.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_example8_13b.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">gcnuBridging2023</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Probability and Statistical Inference Module of the 2023 GCNU Bridging Summer School</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html#bayesian-linear-regression">Bayesian linear regression</a></li>
<li class="toctree-l1"><a class="reference internal" href="../index.html#continuous-random-variables">Continuous random variables</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html#foundations-of-probability">Foundations of probability</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bayesianLinearRegression/index.html">Bayesian linear regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../continuousRandomVariables/index.html">Continuous random variables</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Foundations of probability</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Probability and Statistical Inference Module of the 2023 GCNU Bridging Summer School</a><ul>
  <li><a href="index.html">Foundations of probability</a><ul>
      <li>Previous: <a href="plot_example8_3.html" title="previous chapter">Example 8.3: stranded tourists</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Joaquin Rapela.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../../_sources/auto_examples/foundations/plot_example8_13b.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>